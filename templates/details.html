{% extends 'base.html' %}
{% block content %}
<div class="row mb-4">
    <div class="col-md-3">
        <img src="{{ artwork }}" class="img-fluid rounded">
    </div>
    <div class="col-md-9">
        <h2>{{ title }}</h2>
        <form method="post" action="/subscribe">
            <input type="hidden" name="podcast_id" value="{{ podcast_id }}">
            <input type="hidden" name="podcast_title" value="{{ title }}">
            <input type="hidden" name="feed_url" value="{{ feed_url }}">
            <input type="hidden" name="artwork_url" value="{{ artwork }}">
            <button class="btn btn-success">Subscribe</button>
        </form>
    </div>
</div>
<h4>Episodes</h4>
<ul class="list-group">
    {% for ep in episodes %}
    <li class="list-group-item">
        <strong>{{ ep.title }}</strong><br>
        <audio controls style="width:100%">
            <source src="{{ ep.enclosures[0].href if ep.enclosures else '' }}">
            Your browser does not support the audio element.
        </audio>
        <div>{{ ep.published if ep.published else '' }}</div>
        <div>{{ ep.summary|safe }}</div>
    </li>
    {% endfor %}
</ul>
{% endblock %}
